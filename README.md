# Neon Harvest Web
霓虹弹幕生存 · 双模式（无尽 / 试炼）· 支持 PC / 手机触控

## 目录结构
- `web/` 前端静态资源（GitHub Pages 可直接指向此目录）
  - `index.html` 页面骨架、模式选择、触控按键
  - `style.css` 霓虹风样式、全屏/旋转适配，增强背景光影
  - `main.js` 入口、菜单与输入绑定、登录/排行榜、开局“准备好了吗”确认
  - `game.js` 主循环、渲染、碰撞、Boss/终极Boss 出场与特效
  - `core/` 常量、工具、粒子、音效池
  - `modes/` `endless.js`（无尽）与 `rogue.js`（试炼）模式逻辑
  - `assets/` 前端资源（如 `sfx/shoot1.wav`）
- `server/` Node.js + Express API（注册/登录/分数存储），静态托管指向 `../web`

## 运行方式
- 仅前端：`cd web && python -m http.server 8000`，打开 `http://localhost:8000`
  - GitHub Pages：将 Pages 根目录指向分支的 `/web` 即可（无后台时登录/排行榜不可用）
- 前后端同源：`cd server && npm install && npm start`，打开 `http://localhost:8001`

## 玩法与特性
- 开局缓冲：选择模式后先进入“准备好了吗”确认面板，点击“开始游戏”才真正开局。
- 敌人与外形：普通小怪以多层几何组合呈现，形态与行为对应（射手=六边壳+炮管；分裂者=圆体+虚线外环+分割线；刺客=锐菱+裂缝；指挥官/毒雾/充能等保持特效，但更易与玩家区分）。
- Boss（两模式通用）：
  - 蚀影守望者 `eclipse_warden`：日蚀风外观，扇形速射/十字弹/螺旋散射。
  - 虚空女王 `void_matriarch`：王冠（低血变红）、环形/扩散弹、召唤小怪。
  - 两者在无尽、试炼均可随机出现，场上不与终极Boss并存。
- 终极Boss：
  - 触发：无尽≥10 级，试炼攻击力≥10，且无其它 Boss 存活。
  - 出场：15s+ 动画（预兆震动→静默显裂→清场→裂缝张开→Boss 爬出），顶栏血条常驻。
  - 外形：巨型多面体、发光核心/裂纹、骨刺环、厚重触须/爪尖。
  - 调试：控制台输入 `nhwSummonUltimate()` 可直接观看出场。
- 视觉强化：
  - 背景：星云光斑、光束、暗角，动态星空。
  - Boss/终极Boss：多层光影、裂缝锯齿形而非圆洞。
  - HUD/文字不随震动缩放；震动仅作用于世界层。

## 其他说明
- 登录/排行榜依赖后端 API；纯前端运行时会提示失败或显示为空。
- 触摸支持：暂停/闪现/重开/全屏按钮可用；按 F12 控制台可调试。
