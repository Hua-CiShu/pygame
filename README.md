https://hua-cishu.github.io/pygame/
# Neon Harvest Web
霓虹风双模式弹幕生存：无尽成长 + 试炼道具狂欢，支持桌面与移动触控。

## 在线 / 本地运行
- 在线：部署到 GitHub Pages 后访问 `https://<你的用户名>.github.io/<仓库名>/`
- 本地：在项目根目录执行 `python -m http.server`，然后打开 `http://localhost:8000`

## 操作
- PC：WASD / 方向键移动 · 空格/左键射击 · P 暂停 · R 重开 · 试炼模式 F 闪现
- 移动端：画布左半屏拖动虚拟摇杆移动，右半屏触控射击（已适配触控）

## 模式
- **无尽模式**：收集能量与护盾，武器随等级进化；升级可提升移速/子弹/能量/生命/敌人上限。
- **试炼模式**（简单/标准/艰难）：无积分豆，全靠道具成长。道具包括：
  - 猛袭无敌（撞怪秒杀）· 散射 +1 · 增命 · 环绕子弹 · 反弹弹道（限时）
  - 闪现充能（F）· 时间暂停 · 攻击 +1（可无限叠加）
  - 敌人血量随时间/波次提升

## 敌人多样性（无尽）
- 护盾指挥官：周期性为附近敌人套盾
- 毒物行者：留下毒圈，触碰耗能
- 相位刺客：闪现贴脸，伴随粒子闪光
- 裂隙召唤者：投放裂隙，周期召唤小怪
- 分裂者：死亡分裂成小型体
- 蛮横者 / 冲锋 / 远射 / 之字等基础型

## 视觉与反馈
- 粒子光晕、受击闪光 + 短暂减速
- 时间暂停：金色沙漏动画；结束有轻微屏幕震动
- Buff 横幅提示（反弹/猛袭/暂停等）醒目居中
- 子弹霓虹渐变，敌人形状区分明显

## 文件结构
- `index.html`：页面框架与模式选择菜单
- `style.css`：整体视觉样式
- `main.js`：入口，绑定菜单与输入，启动循环
- `game.js`：核心调度（状态、渲染、碰撞、震动、提示），按 `state.mode` 调用模式模块
- `core/`
  - `constants.js`：颜色、速度、能量等常量
  - `utils.js`：随机、加权选择、向量工具
  - `particles.js`：粒子生成/更新
- `modes/`
  - `endless.js`：无尽模式逻辑、升级、HUD、玩家绘制
  - `rogue.js`：试炼模式逻辑、道具、敌人、HUD、玩家绘制

## 扩展指引
- 新模式：在 `modes/` 新增模块（导出 `initState/resetState/update/drawHUD/drawPlayerAvatar`），在 `main.js` 按钮中切换 `state.mode`。
- 共用逻辑/常量放入 `core/`，减少重复；渲染与模式逻辑分离，方便维护。
